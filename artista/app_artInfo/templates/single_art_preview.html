{% extends 'base_dashboard_header.html' %} {% load static %} 


{% block page_title %}
Artist All Arts
{% endblock %} 


{% block js_cdn %}

{% endblock %} 


{% block content %}
Single Art

<div class="container my-5">
    <div>
        <img src="{{  art_info.image.url }}" class="" alt="Avatar" >
      </div>
    <div>
      title = {{ art_info.title }}
    </div>
    <div>
      short_description = {{ art_info.short_description }}
    </div>
    <div>
      view_count = {{ art_info.view_count }}
    </div>
    <div>
      long_description = {{ art_info.long_description }}
    </div>
    <div>
      category = {{ art_info.category | upper }}
    </div>
    <div>
     Tags = {{ art_info.tags | upper }}
    </div>
    <div>
      likes = {{ art_info.number_of_likes | upper }}
     </div>
     <div>
      dislikes = {{ art_info.number_of_dislikes | upper }}
     </div>
     <div>
      current_user_liked = {{ current_user_liked }}
     </div>
    
  </div>

  <div class="container my-5">
    {% if messages %}
    {% for message in messages %}
      <div class="alert alert-danger" role="alert">
        {{message}}
      </div>
    {% endfor %}
    {% endif %}
    {% for error in art_comments_form.non_field_errors %}
    <div class="alert alert-danger" role="alert">
      {{error}}
    </div>
    {% endfor %}

    <form action="{%  url 'app_artInfo:artist_single_art_comment' art_info.uuid 'add'%}" method="POST">
      {% for field in art_comments_form.visible_fields %}
      <div class="form-group">
         <label class="font-weight-bold" for="exampleInputEmail1">{{ field.label_tag }}</label>  
        {{ field }} 
        {% for error in field.errors %}
        <small id="emailHelp" class="form-text text-danger">{{ error }}</small>
        {% endfor %}
      </div>
      {% endfor %}

      {% csrf_token %}

      {% for hidden in form.hidden_fields %}
          {{ hidden }}
      {% endfor %}
          <button class="btn btn-primary cnr-rounded " style="width: 150px;" type="submit" >Submit</button>
    </form>
  </div>

  <div class="container my-5">
      <h3>Comment</h3>
    <div class="row">
          {% for data in art_comments %}
            <div class="col-md-12 ">
                <div class="card mx-1" >
                    <img class="card-img-top rounded-circle" src="{{ data.user.avatar.url }}"   height="150px" width="150px" alt="Card image cap">
                    <div class="card-body">
                    <h5 class="card-title">{{ data.user.display_name }}</h5>
                    <p class="card-text">{{ data.comment_message }}</p>
                    {% if user_info == data.user %}
                    <form action="{%  url 'app_artInfo:artist_single_art_comment' art_info.uuid 'delete'%}" method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="comment_id" value="{{ data.id }}">
                        <button type="submit" class=" btn btn-primary card-text">Delete</button>
                    </form>
                    {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}  
    </div>
  </div>
    
{% endblock %}


{% block add_js %}
  <script>
  </script>
{% endblock %}